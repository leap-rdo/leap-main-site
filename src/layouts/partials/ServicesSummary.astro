---
import ImageMod from "@/components/ImageMod.astro";
import { markdownify } from "@/lib/utils/textConverter";
import {
  getLangFromUrl,
  useTranslations,
  useTranslatedPath,
} from "@/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatedPath = useTranslatedPath(lang);

const { content } = Astro.props;
---

<section class="section">
  <div class="container">
    <div class="row">
      <div class="mx-auto text-center lg:col-10" data-aos="fade-up-sm">
        <h2
          class="mb-6"
          set:html={markdownify(
            `<a href="${translatedPath("/services/")}">${t("services.title")}</a>`,
          )}
        />
        <div class="col-12 pt-10">
          <div class="row g-4 justify-center">
            <div
              class="md:col-6 lg:col-4"
              data-aos="fade-up-sm"
              data-aos-delay={200 + 0 * 50}>
              <div
                class="min-h-full rounded-xl bg-light px-6 py-12 text-center md:rounded-3xl">
                <div
                  class="mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-tertiary">
                  <ImageMod
                    class="h-6 w-6 object-cover"
                    src="/images/icons/svg/detection.svg"
                    alt={t("services.research")}
                  />
                </div>
                <h3
                  class="h5 mb-2"
                  set:html={markdownify(
                    `<a href="${translatedPath("/services/")}">${t("services.research")}</a>`,
                  )}
                />
                <p set:html={markdownify(content.Research)} />
              </div>
            </div>
            <div
              class="md:col-6 lg:col-4"
              data-aos="fade-up-sm"
              data-aos-delay={200 + 1 * 50}>
              <div
                class="min-h-full rounded-xl bg-light px-6 py-12 text-center md:rounded-3xl">
                <div
                  class="mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-tertiary">
                  <ImageMod
                    class="h-6 w-6 object-cover"
                    src="/images/icons/svg/encryption.svg"
                    alt={t("services.development")}
                  />
                </div>
                <h3
                  class="h5 mb-2"
                  set:html={markdownify(
                    `<a href="${translatedPath("/services/")}">${t("services.development")}</a>`,
                  )}
                />
                <p set:html={markdownify(content.Development)} />
              </div>
            </div>
            <div
              class="md:col-6 lg:col-4"
              data-aos="fade-up-sm"
              data-aos-delay={200 + 2 * 50}>
              <div
                class="min-h-full rounded-xl bg-light px-6 py-12 text-center md:rounded-3xl">
                <div
                  class="mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-tertiary">
                  <ImageMod
                    class="h-6 w-6 object-cover"
                    src="/images/icons/svg/time.svg"
                    alt={t("services.operation")}
                  />
                </div>
                <h3
                  class="h5 mb-2"
                  set:html={markdownify(
                    `<a href="${translatedPath("/services/")}">${t("services.operation")}</a>`,
                  )}
                />
                <p set:html={markdownify(content.Operation)} />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
